<div class="w-screen m-0">

  <!-- BANNER -->

  <div class="md:h-96 bg-primary md:flex md:flex-col md:justify-center h-auto" style="background-image: url('https://www.transparenttextures.com/patterns/asfalt-light.png')">

    <div class="md:flex md:gap-6 md:ml-12 md:pt-12 gap-2 ml-2 pt-2">
      <a href="#section-calcul" class="text-white md:text-2xl text-sm md:hover:text-icon-color-dark">Heparin prediction</a>
      <a href="#section-tutorial" class="text-white md:text-2xl text-sm md:hover:text-icon-color-dark">Tutorial</a>
      <a href="#section-team" class="text-white md:text-2xl text-sm md:hover:text-icon-color-dark">Team</a>
      <a href="#section-biblio" class="text-white md:text-2xl text-sm md:hover:text-icon-color-dark">Bibliography</a>
      <a href="#section-footer" class="text-white md:text-2xl text-sm md:hover:text-icon-color-dark">More</a>
    </div>

    <div class="flex md:flex-row md:justify-center items-center md:max-w-6xl mx-auto h-full md:gap-6 flex-col gap-2 p-5">
      <%= image_tag 'Logo_CHU.png', alt: 'Description of the image', class: 'md:w-96 h-auto w-48' %>

      <div class="md:flex md:flex-col">
        <h1 class="md:text-5xl font-bold text-white text-2xl">ACT Pred, what is it?</h1>
        <p class="text-white md:text-2xl text-base">Now that is some text describing what it does, and very well so. Not too much details, straight to the point, perfect quick explanation. Don't look at the logo it's a placeholder yo</p>
      </div>
    </div>

  </div>

  <!-- FORM AND RESULTS -->

  <div class="container mx-auto md:mt-16 md:w-4/5 mt-2"> <!-- md:max-w-8xl -->

    <div class="md:rounded-2xl md:shadow-lg md:p-4 p-2">

      <div class="container mx-auto">  <!--max-w-2xl  text-center-->
        <h2 id="section-calcul" class="md:text-3xl text-base font-bold text-center text-gray-900">Heparin prediction form</h2>
      </div>

      <div data-controller="form-handler">
        <!-- Form -->
        <div data-form-handler-target="form">
            <%= form_with model: @patient, data: { action: "form-handler#submitForm" } do |form| %>
              <h2 class="md:text-2xl text-sm font-semibold text-left text-gray-800">1 - Setup</h2>

              <div id="patient-weight" class="flex items-center md:gap-2 md:my-2 md:text-xl text-sm gap-0.5 my-0.5">
                <%= form.label :patient_weight, class: "flex items-center md:mr-2 mr-1" do %>
                  <%= raw('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-5 md:h-5 md:mr-2 w:-4 h-4 mr-1 fill-current text-icon-color-dark hidden md:block">
                    <path d="M128 176a128 128 0 1 1 256 0 128 128 0 1 1 -256 0zM391.8 64C359.5 24.9 310.7 0 256 0S152.5 24.9 120.2 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-56.2 0zM296 224c0-10.6-4.1-20.2-10.9-27.4l33.6-78.3c3.5-8.1-.3-17.5-8.4-21s-17.5 .3-21 8.4L255.7 184c-22 .1-39.7 18-39.7 40c0 22.1 17.9 40 40 40s40-17.9 40-40z"/>
                  </svg>') %>
                  Patient weight
                <% end %>
                <%= form.number_field :patient_weight, placeholder: "kg", class: "flex-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs", min: "1", max: "300", required: true %>
              </div>

              <div id="act-target" class="flex items-center md:gap-2 md:my-2 md:text-xl text-sm gap-0.5 my-0.5">
                <%= form.label :act_target, class: "flex items-center md:mr-2 mr-1" do %>
                  <%= raw('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-5 md:h-5 md:mr-2 w:-4 h-4 mr-1 fill-current text-icon-color-dark hidden md:block">
                    <path d="M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/>
                  </svg>') %>
                  Target ACT (seconds)
                <% end %>
                <%= form.number_field :act_target, value: "400", min: "1", max: "1000", class: "flex-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs", required: true %>
              </div>

              <div id="times-between-bolus" class="flex items-center md:gap-2 md:my-2 md:text-xl text-sm gap-0.5 my-0.5">
                <%= form.label :delta_t, class: "flex items-center md:mr-2 mr-1" do %>
                  <%= raw('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-5 md:h-5 md:mr-2 w:-4 h-4 mr-1 fill-current text-icon-color-dark hidden md:block">
                    <path d="M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/>
                  </svg>') %>
                  Time between bolus injections (minutes)
                <% end %>
                <%= form.number_field :delta_t, value: "30", min: "0", class: "flex-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs", required: true %>
              </div>

              <div data-controller="addable moveable">

                <!-- ACT measurement part -->
                <div id="act-measured" class="flex flex-col bg-secondary rounded-2xl md:p-4 p-2">
                  <div data-addable-target="actValues" data-controller="deletable">
                    <h2 class="flex items-center md:text-2xl text-sm font-semibold text-left text-gray-800">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="md:w-5 md:h-5 md:mr-2 w:-4 h-4 mr-1 fill-current text-icon-color-dark">
                        <path d="M192 512C86 512 0 426 0 320C0 228.8 130.2 57.7 166.6 11.7C172.6 4.2 181.5 0 191.1 0l1.8 0c9.6 0 18.5 4.2 24.5 11.7C253.8 57.7 384 228.8 384 320c0 106-86 192-192 192zM96 336c0-8.8-7.2-16-16-16s-16 7.2-16 16c0 61.9 50.1 112 112 112c8.8 0 16-7.2 16-16s-7.2-16-16-16c-44.2 0-80-35.8-80-80z"/>
                      </svg>
                      2 - ACT
                    </h2>


                    <div class="act-row md:flex md:items-center w-full">
                      <div class="flex md:flex-row flex-col md:items-center md:gap-2 md:my-2 md:text-xl text-sm gap-0.5 my-0.5 w-full">
                        <%= form.fields_for :acts do |acts_form| %>
                          <div class="flex flex-row w-full">
                            <%= acts_form.label :act_value_measured, "Measured ACT values", class:"md:text-xl text-sm flex items-center md:mr-2 mr-1" %>
                            <%= acts_form.number_field :act_value_measured, placeholder: "seconds", min: "1", max: "1000", required: true, class: "w-full max-w-full md:flex-1 flex-shrink-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs" %>
                          </div>
                          <div class="flex flex-row w-full">
                            <%= acts_form.label :act_measurement_time, "Time", class:"md:text-xl text-sm flex items-center md:mr-2 mr-1" %>
                            <%= acts_form.datetime_field :act_measurement_time, required: true, class: "w-full max-w-full md:flex-1 flex-shrink-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs" %>
                          </div>
                        <% end %>
                      </div>

                      <div class="justify-center items-center md:flex">
                        <button data-action="click->moveable#actMoveUp">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-8 md:h-8 md:ml-2 w-6 h-6 ml-1 fill-current text-icon-color-dark md:hover:text-active-color active:scale-95">
                            <path fill="icon-color-dark" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm11.3-395.3l112 112c4.6 4.6 5.9 11.5 3.5 17.4s-8.3 9.9-14.8 9.9l-64 0 0 96c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96-64 0c-6.5 0-12.3-3.9-14.8-9.9s-1.1-12.9 3.5-17.4l112-112c6.2-6.2 16.4-6.2 22.6 0z"/>
                          </svg>
                        </button>
                        <button data-action="click->moveable#actMoveDown">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-8 md:h-8 md:ml-2 w-6 h-6 ml-1 fill-current text-icon-color-dark md:hover:text-active-color active:scale-95">
                            <path fill="icon-color-dark" d="M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM244.7 395.3l-112-112c-4.6-4.6-5.9-11.5-3.5-17.4s8.3-9.9 14.8-9.9l64 0 0-96c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 96 64 0c6.5 0 12.3 3.9 14.8 9.9s1.1 12.9-3.5 17.4l-112 112c-6.2 6.2-16.4 6.2-22.6 0z"/>
                          </svg>
                        </button>
                        <button data-action="click->deletable#deleteActValues">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-8 md:h-8 md:ml-2 w-6 h-6 ml-1 fill-current text-icon-color-dark md:hover:text-active-color active:scale-95">
                            <path fill="icon-color-dark" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/>
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>

                  <div class="flex">
                    <button data-action="click->addable#addActValues"  class="md:px-3 md:py-1 md:text-xl px-2 py-0.5 text-sm font-bold text-white bg-icon-color rounded md:hover:bg-gray-500 active:bg-gray-600 active:scale-95 focus:outline-none focus:shadow-outline">Add an ACT measurement</button>
                  </div>
                </div>

                <!-- HEPARIN BOLUS INJECTION PART -->
                <div id="bolus-injection"  class="flex flex-col md:p-4 p-2">
                  <div data-addable-target="heparinsValues" data-controller="deletable">
                  <br>
                    <h2 class="flex items-center md:text-2xl text-sm font-semibold text-left text-gray-800">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-5 md:h-5 md:mr-2 w:-4 h-4 mr-1 fill-current text-icon-color-dark">
                        <path d="M441 7l32 32 32 32c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-15-15L417.9 128l55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-72-72L295 73c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l55 55L422.1 56 407 41c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0zM210.3 155.7l61.1-61.1c.3 .3 .6 .7 1 1l16 16 56 56 56 56 16 16c.3 .3 .6 .6 1 1l-191 191c-10.5 10.5-24.7 16.4-39.6 16.4l-88.8 0L41 505c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l57-57 0-88.8c0-14.9 5.9-29.1 16.4-39.6l43.3-43.3 57 57c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-57-57 41.4-41.4 57 57c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-57-57z"/>
                      </svg>
                      3 - Heparin bolus injections
                    </h2>

                    <div class="bolus-row md:flex md:items-center w-full">
                      <div class="flex md:flex-row flex-col md:items-center md:gap-2 md:my-2 md:text-xl text-sm gap-0.5 my-0.5 w-full">
                        <%= form.fields_for :heparins do |heparins_form| %>
                          <div class="flex flex-row w-full">
                            <%= heparins_form.label :bolus_given, "Heparin bolus injection", class:"md:text-xl text-sm flex items-center md:mr-2 mr-1" %>
                            <%= heparins_form.number_field :bolus_given, placeholder: "Total UI per shot", min: "1", class: "w-full max-w-full md:flex-1 flex-shrink-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs" %>
                          </div>
                          <div class="flex flex-row w-full">
                            <%= heparins_form.label :bolus_time, "Time", class:"md:text-xl text-sm flex items-center md:mr-2 mr-1" %>
                            <%= heparins_form.datetime_field :bolus_time, class:"w-full max-w-full md:flex-1 flex-shrink-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs" %>
                          </div>
                        <% end %>
                      </div>

                      <div class="justify-center items-center md:flex">
                        <button data-action="click->moveable#bolusMoveUp">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-8 md:h-8 md:ml-2 w-6 h-6 ml-1 fill-current text-icon-color-dark md:hover:text-active-color active:scale-95">
                            <path fill="icon-color-dark" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm11.3-395.3l112 112c4.6 4.6 5.9 11.5 3.5 17.4s-8.3 9.9-14.8 9.9l-64 0 0 96c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96-64 0c-6.5 0-12.3-3.9-14.8-9.9s-1.1-12.9 3.5-17.4l112-112c6.2-6.2 16.4-6.2 22.6 0z"/>
                          </svg>
                        </button>
                        <button data-action="click->moveable#bolusMoveDown">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-8 md:h-8 md:ml-2 w-6 h-6 ml-1 fill-current text-icon-color-dark md:hover:text-active-color active:scale-95">
                            <path fill="icon-color-dark" d="M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM244.7 395.3l-112-112c-4.6-4.6-5.9-11.5-3.5-17.4s8.3-9.9 14.8-9.9l64 0 0-96c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 96 64 0c6.5 0 12.3 3.9 14.8 9.9s1.1 12.9-3.5 17.4l-112 112c-6.2 6.2-16.4 6.2-22.6 0z"/>
                          </svg>
                        </button>
                        <button data-action="click->deletable#deleteBolus">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-8 md:h-8 md:ml-2 w-6 h-6 ml-1 fill-current text-icon-color-dark md:hover:text-active-color active:scale-95">
                            <path fill="icon-color-dark" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/>
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>

                  <div class="flex">
                    <button data-action="click->addable#addBolus"  class="md:px-3 md:py-1 md:text-xl px-2 py-0.5 text-sm font-bold text-white bg-icon-color rounded md:hover:bg-gray-500 active:bg-gray-600 active:scale-95 focus:outline-none focus:shadow-outline">Add a bolus</button>
                  </div>
                </div>


                <!-- HEPARIN INFUSION PART -->
                <div id="heparins-infusions" class="flex flex-col md:p-4 p-2">
                  <div data-addable-target="heparinsInfusions" data-controller="deletable">
                    <br>
                    <h2 class="flex items-center md:text-2xl text-sm font-semibold text-left text-gray-800">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-5 md:h-5 md:mr-2 w:-4 h-4 mr-1 fill-current text-icon-color-dark">
                        <path d="M441 7l32 32 32 32c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-15-15L417.9 128l55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-72-72L295 73c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l55 55L422.1 56 407 41c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0zM210.3 155.7l61.1-61.1c.3 .3 .6 .7 1 1l16 16 56 56 56 56 16 16c.3 .3 .6 .6 1 1l-191 191c-10.5 10.5-24.7 16.4-39.6 16.4l-88.8 0L41 505c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l57-57 0-88.8c0-14.9 5.9-29.1 16.4-39.6l43.3-43.3 57 57c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-57-57 41.4-41.4 57 57c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-57-57z"/>
                      </svg>
                      4 - Heparin infusions
                    </h2>

                    <div class="md:flex md:items-center infusion-row w-full">
                      <div class="flex md:flex-row flex-col md:items-center md:gap-2 md:my-2 md:text-xl text-sm gap-0.5 my-0.5 w-full">
                        <%= form.fields_for :heparins do |heparins_form| %>
                          <div class="flex flex-row w-full">
                            <%= heparins_form.label :infusion_rate_given, "Heparin infusion", class:"md:text-xl text-sm flex items-center md:mr-2 mr-1" %>
                            <%= heparins_form.number_field :infusion_rate_given, placeholder: "IR (UI per hour)", min: "1", class: "w-full max-w-full md:flex-1 flex-shrink-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs" %>
                          </div>
                          <div class="flex flex-row w-full">
                            <%= heparins_form.label :infusion_duration, "Duration", class:"md:text-xl text-sm flex items-center md:mr-2 mr-1" %>
                            <%= heparins_form.number_field :infusion_duration, placeholder: "minutes", min: "1", class: "w-full max-w-full md:flex-1 flex-shrink-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs" %>
                          </div>
                          <div class="flex flex-row w-full">
                            <%= heparins_form.label :infusion_time, "Start time", class:"md:text-xl text-sm flex items-center md:mr-2 mr-1" %>
                            <%= heparins_form.datetime_field :infusion_time, class: "w-full max-w-full md:flex-1 flex-shrink-1 rounded-lg border-2 border-quaternary bg-secondary-light text-secondary-dark md:p-2 p-1 focus:border-icon-color-dark data-hj-allow md:text-base text-xs" %>
                          </div>
                        <% end %>
                      </div>

                      <div class="justify-center items-center md:flex">
                        <button data-action="click->moveable#infusionMoveUp">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-8 md:h-8 md:ml-2 w-6 h-6 ml-1 fill-current text-icon-color-dark md:hover:text-active-color active:scale-95">
                            <path fill="icon-color-dark" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm11.3-395.3l112 112c4.6 4.6 5.9 11.5 3.5 17.4s-8.3 9.9-14.8 9.9l-64 0 0 96c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96-64 0c-6.5 0-12.3-3.9-14.8-9.9s-1.1-12.9 3.5-17.4l112-112c6.2-6.2 16.4-6.2 22.6 0z"/>
                          </svg>
                        </button>
                        <button data-action="click->moveable#infusionMoveDown">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-8 md:h-8 md:ml-2 w-6 h-6 ml-1 fill-current text-icon-color-dark md:hover:text-active-color active:scale-95">
                            <path fill="icon-color-dark" d="M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM244.7 395.3l-112-112c-4.6-4.6-5.9-11.5-3.5-17.4s8.3-9.9 14.8-9.9l64 0 0-96c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 96 64 0c6.5 0 12.3 3.9 14.8 9.9s1.1 12.9-3.5 17.4l-112 112c-6.2 6.2-16.4 6.2-22.6 0z"/>
                          </svg>
                        </button>
                        <button data-action="click->deletable#deleteInfusion">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="md:w-8 md:h-8 md:ml-2 w-6 h-6 ml-1 fill-current text-icon-color-dark md:hover:text-active-color active:scale-95">
                            <path fill="icon-color-dark" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/>
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>

                <div class="flex">
                  <button data-action="click->addable#addInfusion" class="md:px-3 md:py-1 md:text-xl px-2 py-0.5 text-sm font-bold text-white bg-icon-color rounded md:hover:bg-gray-500 active:bg-gray-600 active:scale-95 focus:outline-none focus:shadow-outline">Add an infusion</button>
                </div>
              </div>
            </div>

            <br>
            <div class="flex flex-col justify-center items-center">
              <%= form.submit "Calculate next dose", class:"flex justify-center md:text-2xl text-base bg-icon-color-dark text-white font-bold md:px-4 md:py-2 px-3 py-1.5 rounded md:hover:bg-active-color active:bg-active-color active:scale-95 focus:outline-none focus:shadow-outline" %>
                <img id="loading-gif" class="mt-4" style="display:none" src="http://chimplyimage.appspot.com/images/samples/classic-spinner/animatedCircle.gif" />
              <% end %>
            </div>
        </div>
        <br>


        <!-- SECTION 3 -->
        <div class="bg-secondary adaptative-width rounded-2xl md:shadow-lg md:p-4 p-2 m-0">

          <div class="container mx-auto">
            <h2 class="md:text-3xl text-base font-bold text-center text-gray-900 mb:mb-4 mb-2">Recommandations</h2>
          </div>


          <div class="mx-auto overflow-x-auto shadow-md rounded-2xl">
            <table id="result-table" data-form-handler-target="result" class="w-full text-center text-gray-500">
              <thead class="text-gray-700 bg-light-color">
                <tr>
                  <th scope="col" class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1"></th>
                  <th scope="col" class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" colspan="2">Intermittent strategy</th>
                  <th scope="col" class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" colspan="2">Continuous strategy</th>
                </tr>
                <tr>
                  <th scope="col"></th>
                  <th scope="col" class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1">Value</th>
                  <th scope="col" class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1">95% CI</th>
                  <th scope="col" class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1">Value</th>
                  <th scope="col" class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1">95% CI</th>
                </tr>
              </thead>
              <tbody>
                <tr class="bg-white border-b border-gray-200 hover:bg-very-light-color">
                  <th scope="row" class="text-left md:text-xl text-sm md:px-6 md:py-4 px-2 py-1 text-gray-900 whitespace-nowrap">New loading dose</th>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-int-ld"></td>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-int-ld-ci"></td>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-inf-ld"></td>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-inf-ld-ci"></td>
                </tr>
                <tr class="bg-white border-b border-gray-200 hover:bg-very-light-color">
                  <th scope="row" class="text-left md:text-xl text-sm md:px-6 md:py-4 px-2 py-1 text-gray-900 whitespace-nowrap " id="new-int-mb-delta-t-minutes">New maintenance bolus</th>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-int-mb"></td>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-int-mb-ci"></td>
                  <td rowspan="2" colspan="2" class="bg-gray-100 md:px-6 md:py-4 px-2 py-1"></td>
                </tr>
                <tr class="bg-white border-b border-gray-200 hover:bg-very-light-color">
                  <th scope="row" class="text-left md:text-xl text-sm md:px-6 md:py-4 px-2 py-1 text-gray-900 whitespace-nowrap">Total (LD + MB)</th>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" colspan="2" id="new-int-total"></td>
                </tr>
                <tr class="bg-white border-b border-gray-200 hover:bg-very-light-color">
                  <th scope="row" class="text-left md:text-xl text-sm md:px-6 md:py-4 px-2 py-1 text-gray-900 whitespace-nowrap">New infusion rate</th>
                  <td rowspan="2" colspan="2" class="bg-gray-100 md:px-6 md:py-4 px-2 py-1"></td>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-inf-rate"></td>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-inf-rate-ci"></td>
                </tr>
                <tr class="bg-white border-b border-gray-20 hover:bg-very-light-color">
                  <th scope="row" class="text-left md:text-xl text-sm md:px-6 md:py-4 px-2 py-1 text-gray-900 whitespace-nowrap">New infusion rate/500</th>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" colspan="2" id="new-inf-rate-500"></td>
                </tr>
                <tr class="bg-white border-b border-gray-200 hover:bg-very-light-color">
                  <th scope="row" class="text-left md:text-xl text-sm md:px-6 md:py-4 px-2 py-1 text-gray-900 whitespace-nowrap">Injection (bolus or IR) in</th>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-int-time"></td>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-int-time-ci"></td>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-inf-time"></td>
                  <td class="md:text-xl text-sm md:px-6 md:py-4 px-2 py-1" id="new-inf-time-ci"></td>
                </tr>
                <tr class="bg-white border-b border-gray-200">
                  <td colspan="5" class="text-left md:text-lg text-xs md:px-6 md:py-4 px-2 py-1"><em>CI: confidence interval, LD: loading dose, MB: maintenance bolus, IR: infusion rate</em></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div id="image-container" class="plot-container flex md:flex-row flex-col md:mt-4 mt-2 md:gap-2 gap-1 justify-center items-center"></div>
          <br>
          <div><button id="print-to-pdf" class="flex justify-center md:text-2xl text-base bg-icon-color-dark text-white font-bold md:px-4 md:py-2 px-3 py-1.5 rounded md:hover:bg-active-color active:bg-active-color active:scale-95 focus:outline-none focus:shadow-outline">Print to PDF</button></div>
        </div>
      </div>
    </div>

  <div class="container mx-auto mt-16">
    <h2 id="section-tutorial" class="text-3xl font-bold text-center text-gray-900">Tutorial</h2>
    <p class="text-2xl text-gray-800">This is gonna be the tutorial spot</p>
    <p class="text-lg text-gray-800">With various stuff</p>
    <p class="text-lg text-gray-800">Explanation of how things work</p>
  </div>

  <div class="bg-secondary full-width">
    <div class="container mx-auto mt-16 max-w-6xl">
      <h2 id="section-team" class="text-3xl font-bold text-center text-gray-900">Team</h2>
      <p class="text-lg text-gray-800">This is gonna be the presentation of the team</p>
      <p class="text-lg text-gray-800">With various stuff</p>
      <p class="text-lg text-gray-800">Explanation of who is the team</p>
      <p class="text-lg text-gray-800">And why not a contact us button</p>
    </div>
  </div>

  <div class="container mx-auto mt-16">
    <h2 id="section-biblio" class="text-3xl font-bold text-center text-gray-900">Bibliography</h2>
    <p class="text-lg text-gray-800">This is gonna be bibliography part</p>
    <p class="text-lg text-gray-800">With various articles</p>
    <p class="text-lg text-gray-800">Explanation sources of the work</p>
  </div>

  <div class="bg-primary full-width">
    <div class="container mx-auto mt-16 max-w-6xl">
      <h2 id="section-footer" class="text-3xl font-bold text-center text-gray-900">Footer</h2>
      <p class="text-lg text-gray-800">This is gonna be the footer</p>
      <p class="text-lg text-gray-800">With the last informations</p>
      <p class="text-lg text-gray-800">lorem ipsum lorem lorem</p>
      <p class="text-lg text-gray-800">lorem lorem lorem et des fois ipsum</p>
    </div>
  </div>

</div>

<style>
  * {
    font-family: 'Open Sans', sans-serif;
  }

  h1, h2, h3, h4, a {
    /* font-family: 'Roboto', sans-serif; */
    font-family: "Montserrat", sans-serif;
  }

  html {
    scroll-behavior: smooth;
  }

  .full-width {
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
    width: 100vw;
  }

  .adaptative-width {
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  width: 100vw;
}

@media (min-width: 768px) {
  .adaptative-width {
    position: static;
    margin-left: 0;
    margin-right: 0;
    width: 100%;
  }
}
</style>
